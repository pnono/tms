<!DOCTYPE html>
{% extends 'schedule/base.html' %}

{% block content %}

<script src='/static/js/angular-resource.js' type="text/javascript"></script>


</head>


<nav class="navbar navbar-default navbar-fixed-top">
 <div class="container-fluid">
  <div class="navbar-header">
   <span class="navbar-brand">Planning</span>
  </div>

  <ul class="nav nav-tabs">
   <li><a href="/schedule/planning">Planning</a></li>
   <li><a href="/activity/edit">Activités</a></li>
   <li><a href="/stat/">Charge</a></li>
   <li class="active"><a href="/resource/index">Agent</a></li>
  </ul>
 </div>
</nav>

<body ng-controller="resourceController">

<div class="container-fluid">
 <div class="row">
  <div class="col-md-1">
   <button class="btn  btn-primary" ng-click="doNewResource()">Nouvel agent</button>
  </div>
  <div class="col-md-3 ">
    <div id="divanew" class="form-group" >
     <input type="text" class="form-control"
            data-toggle="tooltip" data-placement="bottom" title="Nom de l'agent à ajouter"
            placeholder="Désignation du nouvel agent" id="inputnew">
    </div>
   </div>
   <div id="divgnew" class="col-md-2">
    <select id=groupnewid"
      class="form-control"
      size=1
      name="groupSelect"
      ng-model="data.groupnewagent"
      ng-options="group.fields.name for group in data.grouplist track by group.pk"
      data-toggle="tooltip" data-placement="bottom" title="Groupe du nouvel agent"
      >
     </select>
   </div>
  </div>

 <div class="row">
  <div class="col-md-3">
   <div class="form-group">
    <h2 for="agentid">Agents</h2>
    <select id=agentid"
        class="form-control"
        size=15
        name="agentSelect"
        ng-model="data.agent"
        data-toggle="tooltip" data-placement="bottom" title="Sélectionner un agent de la liste pour modifier les informations ou le supprimer"
        ng-options="option.fields.name for option in data.availableOptions"
        ng-click="doSelect()"
        >
    </select>
   </div>
  </div>

  <div class="col-md-7 padtop">
   <form class="form-horizontal" role="form">

    <div class="row">
     <div class="form-group" >
      <label class="control-label col-sm-1">Identifiant:</label>
      <label class="control-label col-sm-2">{[{data.agent.pk}]}</label>
     </div>
    </div>

    <div class="row">
     <div class="form-group" >
      <div class="col-md-2">
       <label class="text-left control-label" for="inputrName">Désignation:</label>
      </div>
      <div class="col-md-6">
       <input type="text"
              class="form-control"
              id="inputrName"
              placeholder="Prénom et nom de l'agent"
              ng-model="data.agent.fields.name">
      </div>
     </div>
    </div>

    <div class="row">
     <div class="form-group" >
      <label class="text-left col-md-2">Compte actif</label>
      <div class="col-md-1">
       <input type="checkbox"
              class=""
              id="isactive"
              ng-model='data.agent.fields.active'>
      </div>
     </div>
    </div>

    <div class="row">
     <div class="form-group " >
      <label class=" col-md-3 control-label" for="inputnum"><p class="text-left">Ordre d'affichage</p></label>
      <div class="col-md-2">
       <input type="number"
              min="1"
              max="1000"
              class="form-control"
              placeholder="affichage"
              id="inputnum"
              ng-model="data.agent.fields.num">
      </div>
     </div>
    </div>

    <div class="row">
     <div class="form-group" >
      <span class="col-md-1" for="groupid">Groupe</span>
      <div class="col-md-2">
       <select id=groupid"
        class="form-control"
        size=1
        name="groupSelect"
        ng-model="data.groupagent"
        ng-options="group.fields.name for group in data.grouplist track by group.pk"
        >
       </select>
      </div>
     </div>>
    </div>

    <div class="row form-group">
     <div class="col-md-2">
      <button type="submit" class="form-control btn btn-primary" ng-click="doEditResource()">Modifier</button>
     </div>
     <div class="col-md-2 col-md-offset-4">
      <button class="form-control btn btn-default" ng-click="doDeleteResource()">Supprimer</button>
     </div>
    </div>
   </form>
  </div>

 </div>
</div>

</body>
{% endblock content %}
